<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IT Management Interface</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- SheetJS for Excel -->
    <script src="https://cdn.sheetjs.com/xlsx-0.20.1/package/dist/xlsx.full.min.js"></script>
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <!-- LOGIN PAGE -->
    <div class="login-container" id="loginPage">
        <div class="login-animation"></div>
        <div class="login-animation"></div>
        <div class="login-animation"></div>

        <div class="login-box">
            <h2><i class="fas fa-laptop-house"></i> IT Management Interface</h2>
            <p>Enter your credentials to access the system</p>
            <div class="input-group">
                <label for="username"><i class="fas fa-user"></i> Username</label>
                <input type="text" id="username" placeholder="Enter username" autocomplete="username">
            </div>
            <div class="input-group">
                <label for="password"><i class="fas fa-lock"></i> Password</label>
                <input type="password" id="password" placeholder="Enter password" autocomplete="current-password">
            </div>
            <button class="login-btn" id="loginBtn">
                <i class="fas fa-sign-in-alt"></i> Login to System
            </button>
            <div class="error-message" id="loginError">
                <i class="fas fa-exclamation-circle"></i> Invalid username or password
            </div>
        </div>
    </div>

    <!-- SITE SELECTION PAGE -->
    <div class="site-selection-page" id="siteSelectionPage">
        <div class="site-selection-container">
            <h2><i class="fas fa-building"></i> Select Your Site</h2>
            <p>Choose which site you want to manage</p>

            <div class="site-cards-container">
                <div class="site-card" id="wtcCard">
                    <i class="fas fa-building"></i>
                    <h3>WTC</h3>
                </div>

                <div class="site-card" id="hlsCard">
                    <i class="fas fa-city"></i>
                    <h3>HLS</h3>
                </div>
            </div>

            <button class="back-to-login-btn" id="backToLoginBtn">
                <i class="fas fa-arrow-left"></i> Back to Login
            </button>
        </div>
    </div>

    <!-- MAIN APPLICATION -->
    <div class="app-container" id="appContainer">
        <div class="header">
            <h1><i class="fas fa-laptop-house"></i> <span id="siteTitle">IT Management Interface</span></h1>
            <div class="user-info">
                <span>Welcome, <strong id="currentUserName" style="color: var(--primary-color);">Adithya</strong></span>
                <button class="switch-site-btn" id="switchSiteBtn">
                    <i class="fas fa-exchange-alt"></i> Switch Site
                </button>
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>

        <div class="container">
            <!-- SIDEBAR MENU -->
            <div class="sidebar" id="sidebar">
                <div class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </div>
                <ul class="sidebar-menu">
                    <li class="active" data-section="inventory">
                        <i class="fas fa-laptop"></i> <span>Device Inventory</span>
                    </li>
                    <li data-section="addDevice">
                        <i class="fas fa-plus-circle"></i> <span>Add New Device</span>
                    </li>
                    <li data-section="reportFailure">
                        <i class="fas fa-exclamation-triangle"></i> <span>Report Failure</span>
                    </li>
                    <li data-section="failedDevices">
                        <i class="fas fa-tools"></i> <span>Failed Devices</span>
                    </li>
                    <li data-section="replaceDevice">
                        <i class="fas fa-exchange-alt"></i> <span>Replace Device</span>
                    </li>
                    <li data-section="excelImport">
                        <i class="fas fa-file-excel"></i> <span>Excel Import/Export</span>
                    </li>
                    <li data-section="logs">
                        <i class="fas fa-history"></i> <span>Activity Logs</span>
                    </li>
                    <li data-section="networkDiagram">
                        <i class="fas fa-project-diagram"></i> <span>Network Diagram</span>
                    </li>
                </ul>

                <!-- FIREBASE STATUS INDICATOR (Moved here) -->
                <div id="firebaseStatus" class="firebase-status status-disconnected">
                    <i class="fas fa-plug"></i>
                    <span>Firebase: Disconnected</span>
                </div>
            </div>

            <!-- MAIN CONTENT -->
            <div class="main-content">
                <!-- INVENTORY SECTION -->
                <div class="section active" id="inventory">
                    <h2><i class="fas fa-laptop"></i> Device Inventory Dashboard</h2>

                    <!-- STATISTICS -->
                    <div class="stats-container">
                        <div class="stat-card" id="totalDevicesCard">
                            <div class="stat-value" id="totalDevices">0</div>
                            <div class="stat-label">Total Devices</div>
                        </div>
                        <div class="stat-card" id="activeDevicesCard">
                            <div class="stat-value" id="activeDevices">0</div>
                            <div class="stat-label">Active Devices</div>
                        </div>
                        <div class="stat-card" id="failedDevicesCard">
                            <div class="stat-value" id="failedDevices">0</div>
                            <div class="stat-label">Failed Devices</div>
                        </div>
                        <div class="stat-card" id="replacedDevicesCard">
                            <div class="stat-value" id="replacedDevices">0</div>
                            <div class="stat-label">Replaced Devices</div>
                        </div>
                    </div>

                    <!-- ACTION BAR -->
                    <div class="actions-bar">
                        <div class="search-filter">
                            <input type="text" class="search-box" id="searchBox"
                                placeholder="Search PC Number, Serial, User, or Monitor Serial...">
                            <select class="filter-select" id="departmentFilter">
                                <option value="">All Departments</option>
                                <!-- Departments will be populated based on site -->
                            </select>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-primary" id="addNewBtn">
                                <i class="fas fa-plus"></i> Add Device
                            </button>
                            <button class="btn btn-excel" id="exportBtn">
                                <i class="fas fa-file-export"></i> Export to Excel
                            </button>
                            <button class="btn btn-info" id="refreshBtn">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                    </div>

                    <!-- INVENTORY TABLE -->
                    <div class="table-container">
                        <table class="inventory-table" id="inventoryTable">
                            <thead>
                                <tr>
                                    <th>PC Number</th>
                                    <th>PC Model</th>
                                    <th>IP Address</th>
                                    <th>Department</th>
                                    <th>User</th>
                                    <th>Added By</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="inventoryTableBody">
                                <!-- Data loaded by JavaScript -->
                            </tbody>
                        </table>
                    </div>

                    <div class="no-data" id="noDataMessage" style="display: none;">
                        <i class="fas fa-laptop"
                            style="font-size: 60px; color: var(--border-color); margin-bottom: 20px;"></i>
                        <h3 style="color: var(--text-gray); margin-bottom: 10px;">No Devices Found</h3>
                        <p style="color: var(--text-gray);">Click "Add Device" to add your first inventory item</p>
                    </div>
                </div>

                <!-- ADD DEVICE SECTION -->
                <div class="section" id="addDevice">
                    <h2><i class="fas fa-plus-circle"></i> Add New Device</h2>
                    <div class="form-container">
                        <form id="deviceForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="pcNumber"><i class="fas fa-hashtag"></i> Device Number *</label>
                                    <input type="text" id="pcNumber" placeholder="PC-001" required class="form-field"
                                        tabindex="1">
                                </div>
                                <div class="form-group">
                                    <label for="pcModel"><i class="fas fa-laptop"></i> PC Model *</label>
                                    <input type="text" id="pcModel" placeholder="Dell OptiPlex 7080" required
                                        class="form-field" tabindex="2">
                                </div>
                            </div>

                            <!-- PC INFORMATION -->
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="pcSerial"><i class="fas fa-barcode"></i> PC Serial Number *</label>
                                    <input type="text" id="pcSerial" placeholder="Serial number" required
                                        class="form-field" tabindex="3">
                                </div>
                            </div>

                            <!-- NETWORK INTERFACES SECTION -->
                            <div class="network-interfaces-container" id="networkInterfacesContainer">
                                <h3
                                    style="color: var(--primary-color); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-network-wired"></i> Network Interfaces
                                </h3>
                                <div id="networkInterfacesList">
                                    <!-- Network interfaces will be added here -->
                                </div>
                                <button type="button" class="add-network-btn" id="addNetworkInterfaceBtn">
                                    <i class="fas fa-plus"></i> Add Network Interface
                                </button>
                            </div>

                            <!-- MONITORS SECTION -->
                            <div class="monitors-container" id="monitorsContainer">
                                <h3
                                    style="color: var(--primary-color); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-tv"></i> Monitors
                                </h3>
                                <div id="monitorsList">
                                    <!-- Monitors will be added here -->
                                </div>
                                <button type="button" class="add-monitor-btn" id="addMonitorBtn">
                                    <i class="fas fa-plus"></i> Add Monitor
                                </button>
                            </div>

                            <!-- SOFTWARE LICENSES SECTION -->
                            <div class="software-licenses-container" id="softwareLicensesContainer">
                                <h3
                                    style="color: var(--primary-color); margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                                    <i class="fas fa-copyright"></i> Licensed Software
                                </h3>
                                <div id="softwareLicensesList">
                                    <!-- Software licenses will be added here -->
                                </div>
                                <button type="button" class="add-software-btn" id="addSoftwareLicenseBtn">
                                    <i class="fas fa-plus"></i> Add Software License
                                </button>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="department"><i class="fas fa-building"></i> Department *</label>
                                    <select id="department" required class="form-field" tabindex="4">
                                        <option value="">Select Department</option>
                                        <!-- Departments will be populated based on site -->
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="userName"><i class="fas fa-user"></i> User Name</label>
                                    <input type="text" id="userName" placeholder="User's name" class="form-field"
                                        tabindex="5">
                                </div>
                            </div>

                            <!-- SPECIFICATIONS GRID -->
                            <div class="specs-grid" id="specsGrid">
                                <div class="spec-card">
                                    <label><i class="fas fa-microchip"></i> CPU</label>
                                    <input type="text" id="cpu" placeholder="e.g., Intel i7-10700" class="form-field"
                                        tabindex="6">
                                </div>
                                <div class="spec-card">
                                    <label><i class="fas fa-gamepad"></i> GPU</label>
                                    <input type="text" id="gpu" placeholder="e.g., NVIDIA GTX 1660" class="form-field"
                                        tabindex="7">
                                </div>
                                <div class="spec-card">
                                    <label><i class="fas fa-memory"></i> RAM</label>
                                    <input type="text" id="ram" placeholder="e.g., 16GB DDR4" class="form-field"
                                        tabindex="8">
                                </div>
                                <div class="spec-card">
                                    <label><i class="fas fa-hdd"></i> Storage</label>
                                    <input type="text" id="storage" placeholder="e.g., 512GB SSD" class="form-field"
                                        tabindex="9">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="status"><i class="fas fa-info-circle"></i> Device Status</label>
                                <select id="status" class="form-field" tabindex="10">
                                    <option value="active">Active</option>
                                    <option value="failed">Failed</option>
                                    <option value="replaced">Replaced</option>
                                </select>
                            </div>

                            <div class="action-buttons">
                                <button type="submit" class="btn btn-success" id="saveDeviceBtn">
                                    <i class="fas fa-save"></i> Save Device
                                </button>
                                <button type="button" class="btn btn-warning" id="cancelBtn">
                                    <i class="fas fa-times"></i> Cancel
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- REPORT FAILURE SECTION -->
                <div class="section" id="reportFailure">
                    <h2><i class="fas fa-exclamation-triangle"></i> Report Device Failure</h2>
                    <div class="form-container">
                        <form id="failureReportForm">
                            <div class="form-group">
                                <label for="failureDevice"><i class="fas fa-laptop"></i> Select Device *</label>
                                <select id="failureDevice" required class="form-field" tabindex="1">
                                    <option value="">Select a device to report failure</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="failureReason"><i class="fas fa-comment-medical"></i> Failure Reason
                                    *</label>
                                <textarea id="failureReason" rows="4" placeholder="Describe the issue in detail..."
                                    required class="form-field" tabindex="2"></textarea>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="failureDate"><i class="fas fa-calendar-alt"></i> Failure Date *</label>
                                    <input type="date" id="failureDate" required class="form-field" tabindex="3">
                                </div>
                                <div class="form-group">
                                    <label for="reportedBy"><i class="fas fa-user-check"></i> Reported By *</label>
                                    <select id="reportedBy" required class="form-field" tabindex="4">
                                        <option value="">Select Technician</option>
                                        <!-- Technicians will be populated based on site -->
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="failurePriority"><i class="fas fa-flag"></i> Priority Level</label>
                                <select id="failurePriority" class="form-field" tabindex="5">
                                    <option value="low">Low</option>
                                    <option value="medium" selected>Medium</option>
                                    <option value="high">High</option>
                                    <option value="critical">Critical</option>
                                </select>
                            </div>

                            <div class="action-buttons">
                                <button type="submit" class="btn btn-danger" id="reportFailureBtn">
                                    <i class="fas fa-exclamation-circle"></i> Report Failure
                                </button>
                                <button type="button" class="btn btn-warning" id="cancelFailureBtn">
                                    <i class="fas fa-times"></i> Cancel
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- FAILED DEVICES SECTION -->
                <div class="section" id="failedDevices">
                    <h2><i class="fas fa-tools"></i> Failed Devices Management</h2>

                    <div class="actions-bar">
                        <div class="search-filter">
                            <input type="text" class="search-box" id="failedSearchBox"
                                placeholder="Search failed devices...">
                            <select class="filter-select" id="failedPriorityFilter">
                                <option value="">All Priorities</option>
                                <option value="low">Low</option>
                                <option value="medium">Medium</option>
                                <option value="high">High</option>
                                <option value="critical">Critical</option>
                            </select>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-info" id="refreshFailedBtn">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="failure-table" id="failedDevicesTable">
                            <thead>
                                <tr>
                                    <th>Device Number</th>
                                    <th>Model</th>
                                    <th>Department</th>
                                    <th>Failure Reason</th>
                                    <th>Reported By</th>
                                    <th>Priority</th>
                                    <th>Failure Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="failedDevicesTableBody">
                                <!-- Failed devices loaded by JavaScript -->
                            </tbody>
                        </table>
                    </div>

                    <div class="no-data" id="noFailedDataMessage" style="display: none;">
                        <i class="fas fa-check-circle"
                            style="font-size: 60px; color: var(--border-color); margin-bottom: 20px;"></i>
                        <h3 style="color: var(--text-gray); margin-bottom: 10px;">No Failed Devices Found</h3>
                        <p style="color: var(--text-gray);">All devices are currently operational</p>
                    </div>
                </div>

                <!-- REPLACE DEVICE SECTION -->
                <div class="section" id="replaceDevice">
                    <h2><i class="fas fa-exchange-alt"></i> Replace Device</h2>
                    <div class="form-container">
                        <form id="replaceDeviceForm">
                            <div class="form-group">
                                <label for="replaceDeviceSelect"><i class="fas fa-laptop"></i> Select Device to Replace
                                    *</label>
                                <select id="replaceDeviceSelect" required class="form-field" tabindex="1">
                                    <option value="">Select a device to replace</option>
                                </select>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="replacementPcNumber"><i class="fas fa-desktop"></i> New Device Number
                                        *</label>
                                    <input type="text" id="replacementPcNumber" required class="form-field"
                                        tabindex="2">
                                </div>
                                <div class="form-group">
                                    <label for="replacementPcModel"><i class="fas fa-microchip"></i> New Model *</label>
                                    <input type="text" id="replacementPcModel" required class="form-field" tabindex="3">
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="replacementSerial"><i class="fas fa-barcode"></i> New Serial Number
                                        *</label>
                                    <input type="text" id="replacementSerial" required class="form-field" tabindex="4">
                                </div>
                                <div class="form-group">
                                    <label for="replacementDate"><i class="fas fa-calendar-alt"></i> Replacement Date
                                        *</label>
                                    <input type="date" id="replacementDate" required class="form-field" tabindex="5">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="replacementReason"><i class="fas fa-comment-medical"></i> Replacement
                                    Reason</label>
                                <textarea id="replacementReason" rows="3"
                                    placeholder="Why is this device being replaced?" class="form-field"
                                    tabindex="6"></textarea>
                            </div>

                            <div class="form-group">
                                <label for="replacedBy"><i class="fas fa-user-check"></i> Replaced By *</label>
                                <select id="replacedBy" required class="form-field" tabindex="7">
                                    <option value="">Select Technician</option>
                                    <!-- Technicians will be populated based on site -->
                                </select>
                            </div>

                            <div class="action-buttons">
                                <button type="submit" class="btn btn-success" id="replaceDeviceBtn">
                                    <i class="fas fa-exchange-alt"></i> Replace Device
                                </button>
                                <button type="button" class="btn btn-warning" id="cancelReplaceFormBtn">
                                    <i class="fas fa-times"></i> Cancel
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- EXCEL IMPORT/EXPORT SECTION -->
                <div class="section" id="excelImport">
                    <h2><i class="fas fa-file-excel"></i> Excel Import/Export</h2>

                    <div class="excel-import-container">
                        <h3><i class="fas fa-file-export"></i> Export Data to Excel</h3>
                        <p>Export all devices data to an Excel file for backup or reporting purposes.</p>

                        <div class="excel-actions">
                            <button class="btn btn-excel" id="exportAllBtn">
                                <i class="fas fa-file-export"></i> Export All Devices
                            </button>
                            <button class="btn btn-success" id="exportActiveBtn">
                                <i class="fas fa-file-export"></i> Export Active Devices
                            </button>
                            <button class="btn btn-danger" id="exportFailedBtn">
                                <i class="fas fa-file-export"></i> Export Failed Devices
                            </button>
                        </div>

                        <div class="template-download">
                            <h4><i class="fas fa-download"></i> Download Template</h4>
                            <p>Download an Excel template with the correct format for importing devices.</p>
                            <button class="btn btn-info" id="downloadTemplateBtn">
                                <i class="fas fa-download"></i> Download Import Template
                            </button>
                        </div>
                    </div>

                    <div class="excel-import-container">
                        <h3><i class="fas fa-file-import"></i> Import Data from Excel</h3>
                        <p>Import devices from an Excel file. Make sure the file follows the template format.</p>

                        <div class="excel-actions">
                            <div class="file-input-container">
                                <input type="file" id="excelFileInput" accept=".xlsx, .xls">
                                <label for="excelFileInput" class="file-input-label">
                                    <i class="fas fa-file-import"></i> Choose Excel File
                                </label>
                            </div>
                            <button class="btn btn-primary" id="importBtn" disabled>
                                <i class="fas fa-upload"></i> Import Devices
                            </button>
                        </div>

                        <div id="importProgress" style="display: none; margin-top: 20px;">
                            <div style="display: flex; align-items: center; gap: 10px;">
                                <i class="fas fa-spinner fa-spin"></i>
                                <span id="importProgressText">Processing...</span>
                            </div>
                            <div
                                style="margin-top: 10px; width: 100%; background: var(--secondary-light); border-radius: 4px; overflow: hidden;">
                                <div id="importProgressBar"
                                    style="height: 10px; background: var(--primary-color); width: 0%; transition: width 0.3s;">
                                </div>
                            </div>
                            <div id="importResults" style="margin-top: 15px;"></div>
                        </div>

                        <div
                            style="margin-top: 25px; padding: 20px; background: var(--secondary-light); border-radius: 8px; border: 1px solid var(--border-color);">
                            <h4><i class="fas fa-info-circle"></i> Import Instructions</h4>
                            <ol style="margin-left: 20px; margin-top: 10px; color: var(--text-gray);">
                                <li>Download the template above to see the required format</li>
                                <li>Required columns: Device Number, PC Model, PC Serial, Department</li>
                                <li>Optional columns: User Name, CPU, GPU, RAM, Storage, Monitor Model, Monitor Serial,
                                    Status</li>
                                <li>Status can be: active, failed, or replaced</li>
                                <li>Maximum 100 devices per import</li>
                                <li>All data should be in a single sheet named "Devices"</li>
                            </ol>
                        </div>
                    </div>
                </div>

                <!-- ACTIVITY LOGS -->
                <div class="section" id="logs">
                    <h2><i class="fas fa-history"></i> Activity Logs</h2>
                    <div class="actions-bar">
                        <div class="search-filter">
                            <input type="text" class="search-box" id="logSearchBox" placeholder="Search logs...">
                            <select class="filter-select" id="logTypeFilter">
                                <option value="">All Actions</option>
                                <option value="Login">Login</option>
                                <option value="Device Added">Device Added</option>
                                <option value="Device Edited">Device Edited</option>
                                <option value="Device Deleted">Device Deleted</option>
                                <option value="Device Failure Reported">Device Failure Reported</option>
                                <option value="Device Fixed">Device Fixed</option>
                                <option value="Device Replaced">Device Replaced</option>
                                <option value="Excel Import">Excel Import</option>
                                <option value="Excel Export">Excel Export</option>
                            </select>
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-excel" id="exportLogsBtn">
                                <i class="fas fa-file-export"></i> Export Logs to Excel
                            </button>
                            <button class="btn btn-info" id="refreshLogsBtn">
                                <i class="fas fa-sync-alt"></i> Refresh
                            </button>
                        </div>
                    </div>
                    <div class="logs-container" id="logsContainer">
                        <!-- Logs will load here -->
                    </div>
                </div>

                <!-- NETWORK DIAGRAM -->
                <div class="section" id="networkDiagram">
                    <h2><i class="fas fa-project-diagram"></i> Network Diagram</h2>
                    <div class="network-diagram-container">
                        <h3>Network Infrastructure Diagram</h3>
                        <p>Access the complete network diagram showing all connections and devices</p>
                        <button class="diagram-btn" id="viewDiagramBtn">
                            <i class="fas fa-external-link-alt"></i> Open Network Diagram
                        </button>
                        <div
                            style="margin-top: 30px; padding: 20px; background: var(--secondary-light); border-radius: 8px;">
                            <p style="color: var(--text-gray);">
                                <i class="fas fa-link"></i> URL:
                                <code style="color: var(--primary-color);" id="networkDiagramUrl">Loading...</code>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- DEVICE DETAILS MODAL (FULL SCREEN) -->
    <div class="device-details-modal" id="deviceDetailsModal">
        <div class="device-details-content">
            <div class="device-header">
                <h2><i class="fas fa-laptop"></i> Device Details</h2>
                <button class="close-details" id="closeDetailsModal">&times;</button>
            </div>
            <div class="device-body" id="deviceDetailsContent">
                <!-- Details loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- DELETE CONFIRMATION MODAL -->
    <div class="modal" id="deleteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-trash-alt"></i> Delete Device</h3>
                <button class="close-modal" id="closeDeleteModal">&times;</button>
            </div>
            <div id="deleteModalContent">
                <!-- Delete confirmation loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- MARK AS FIXED MODAL -->
    <div class="modal" id="markFixedModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-wrench"></i> Mark Device as Fixed</h3>
                <button class="close-modal" id="closeMarkFixedModal">&times;</button>
            </div>
            <div id="markFixedModalContent">
                <!-- Mark as fixed form loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- REPAIR HISTORY MODAL -->
    <div class="modal" id="repairHistoryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-history"></i> Repair History & Failure Reports</h3>
                <button class="close-modal" id="closeRepairHistoryModal">&times;</button>
            </div>
            <div id="repairHistoryModalContent">
                <!-- Repair history and failure reports loaded dynamically -->
            </div>
        </div>
    </div>

    <!-- PASSWORD CHANGE MODAL -->
    <div class="modal" id="passwordChangeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-key"></i> First Login: Change Password</h3>
            </div>
            <div class="modal-body">
                <p style="margin-bottom: 20px; color: var(--text-gray);">For security reasons, you must change your
                    temporary password before accessing the system.</p>
                <form id="passwordChangeForm">
                    <div class="form-group">
                        <label for="newPassword"><i class="fas fa-lock"></i> New Password *</label>
                        <input type="password" id="newPassword" placeholder="Enter new password" required
                            class="form-field">
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword"><i class="fas fa-lock"></i> Confirm New Password *</label>
                        <input type="password" id="confirmPassword" placeholder="Confirm new password" required
                            class="form-field">
                    </div>
                    <div class="error-message" id="passwordChangeError" style="margin-bottom: 20px;">
                        <i class="fas fa-exclamation-circle"></i> Passwords do not match
                    </div>
                    <button type="submit" class="btn btn-primary"
                        style="width: 100%; justify-content: center; margin-bottom: 10px;">
                        <i class="fas fa-save"></i> Update Password & Continue
                    </button>
                    <button type="button" class="btn btn-warning" id="logoutFromPasswordChangeBtn"
                        style="width: 100%; justify-content: center;">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- JAVASCRIPT -->
    <script src="js/app.js"></script>
</body>

</html>